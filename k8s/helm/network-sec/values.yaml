namespace: network-sec

images:
  warrior: { repository: warrior, tag: latest, pullPolicy: IfNotPresent }
  weapon:  { repository: weapon,  tag: latest, pullPolicy: IfNotPresent }
  enemy:   { repository: enemy,   tag: latest, pullPolicy: IfNotPresent }
  dragon:  { repository: dragon,  tag: latest, pullPolicy: IfNotPresent }
  coin:    { repository: coin,    tag: latest, pullPolicy: IfNotPresent }
  battle:  { repository: battle,  tag: latest, pullPolicy: IfNotPresent }
  battlespell: { repository: battlespell, tag: latest, pullPolicy: IfNotPresent }
  arenaspell: { repository: arenaspell, tag: latest, pullPolicy: IfNotPresent }
  arena: { repository: arena, tag: latest, pullPolicy: IfNotPresent }
  gateway: { repository: fiber-gateway, tag: latest, pullPolicy: IfNotPresent }

replicas:
  warrior: 1
  weapon: 1
  enemy: 1
  dragon: 1
  coin: 1
  battle: 1
  battlespell: 1
  arenaspell: 1
  arena: 1
  gateway: 1

env:
  kafkaBrokers: kafka:9092
  redisAddr: redis:6379
  postgres:
    host: postgres
    port: 5432
    user: postgres
    password: postgres
    db: warrior_db
  mysql:
    host: mysql
    port: 3306
    user: coin_user
    password: coin_password
    db: coin_db
  mongo:
    uri: mongodb://mongodb:27017
    dragonDB: dragon_db
    enemyDB: enemy_db
    weaponDB: weapon_db
    battleDB: battle_db
    battlespellDB: battlespell_db
    arenaDB: arena_db
    arenaspellDB: arenaspell_db

battlespell:
  replicas: 1
  image:
    repository: battlespell
    tag: latest
    pullPolicy: IfNotPresent
  mongodb:
    database: battlespell_db
  battleGrpcAddr: battle:50053
  ginMode: release
  port: 8086
  grpcPort: 50054
  readinessProbe:
    initialDelaySeconds: 5
    periodSeconds: 5
  livenessProbe:
    initialDelaySeconds: 10
    periodSeconds: 10
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "500m"
  service:
    type: ClusterIP
    port: 8086
    grpcPort: 50054

arena:
  replicas: 1
  image:
    repository: arena
    tag: latest
    pullPolicy: IfNotPresent
  mongodb:
    database: arena_db
  warriorGrpcAddr: warrior:50052
  kafkaBrokers: kafka:9092
  ginMode: release
  ports:
    http: 8087
    grpc: 50055
  probes:
    readiness:
      initialDelaySeconds: 5
      periodSeconds: 10
    liveness:
      initialDelaySeconds: 10
      periodSeconds: 30
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "500m"
  service:
    type: ClusterIP
    ports:
      http: 8087
      grpc: 50055

arenaspell:
  replicas: 1
  image:
    repository: arenaspell
    tag: latest
    pullPolicy: IfNotPresent
  mongodb:
    database: arenaspell_db
  ginMode: release
  port: 8088
  grpcPort: 50056
  readinessProbe:
    initialDelaySeconds: 5
    periodSeconds: 5
  livenessProbe:
    initialDelaySeconds: 10
    periodSeconds: 10
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "500m"
  service:
    type: ClusterIP
    port: 8088
    grpcPort: 50056

ingress:
  enabled: true
  className: nginx
  host: network.local


